digraph {
  rankdir=LR;
  bgcolor="transparent";
  pad=0.5;

  node [shape=box, style="rounded,filled", fillcolor="#f5f5f5", color="#673ab7", fontname="Helvetica", fontsize=11, margin="0.2,0.1"];
  edge [fontname="Helvetica", fontsize=9, color="#424242"];

  subgraph cluster_Session {
    label="Session";
    fontname="Helvetica Bold";
    fontsize=12;
    style="rounded";
    color="#673ab7";
    bgcolor="#fafafa";
    margin=16;

    Active;
    Expired;

    Active -> Expired;
  }

  subgraph cluster_AuthFlow {
    label="AuthFlow";
    fontname="Helvetica Bold";
    fontsize=12;
    style="rounded";
    color="#673ab7";
    bgcolor="#fafafa";
    margin=16;

    Pending;
    Authenticated;
    Failed;

    Pending -> Authenticated;
    Pending -> Failed;
  }

  // Bridges (cross-typestate)
  Authenticated -> Active [style=dashed, color="#7e57c2", penwidth=1.5];
  Failed -> Expired [style=dashed, color="#7e57c2", penwidth=1.5];
}
