digraph {
  rankdir=LR;
  node [shape=box];

  subgraph cluster_Session {
    label="Session";

    Active;
    Expired;

    Active -> Expired;
  }

  subgraph cluster_AuthFlow {
    label="AuthFlow";

    Pending;
    Authenticated;
    Failed;

    Pending -> Authenticated;
    Pending -> Failed;
  }

  // Bridges (cross-typestate edges)
  Authenticated -> Active [style=dashed, label="bridge"];
  Failed -> Expired [style=dashed, label="bridge"];
}
